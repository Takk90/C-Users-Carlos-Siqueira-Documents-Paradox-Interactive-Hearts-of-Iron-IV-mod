##########################
##########################
### EU_voting_category ###
##########################
##########################

EU_voting_category = {

	EU_Voting_cheat = {
	
		available = {
			has_idea = EU_member
		}
		
		visible = { 
			has_idea = EU_member 
		} 
		
		complete_effect = {   						
			ROOT = {
				country_event = {
					id = EUcheat.1
				}
			}
		}				
	}

#######################
### Testing Section ###
#######################
	
	Test_focus_EU001 = {
	
		available = {
			NOT = { has_country_flag = focus_EU001 }
		}
		
		visible = { 
			has_idea = EU_member 
		} 
		
		complete_effect = {   						
			country_event = {
				id = EUvoteTest.1
				days = 10
			}
		}				
	}
	
	Test_focus_EU001_retry = {
	
		available = {
			has_idea = EU_member
			any_country = {
				OR = {
					has_country_flag = focus_EU001_no
					has_country_flag = focus_EU001_QMV_no
					has_country_flag = focus_EU001_maj_no			
				}
				NOT = { 	
					has_country_flag = focus_EU001_yes
				}
			}
		}
		
		visible = { 
			has_idea = EU_member
			any_country = {
				OR = {
					has_country_flag = focus_EU001_no
					has_country_flag = focus_EU001_QMV_no
					has_country_flag = focus_EU001_maj_no			
				}
				NOT = { 	
					has_country_flag = focus_EU001_yes
				}
			}
		} 
		
		complete_effect = {
			clr_global_flag = focus_EU001_voted
			every_country = {	
					clr_country_flag = focus_EU001
					clr_country_flag = focus_EU001_no
					clr_country_flag = focus_EU001_QMV_no
					clr_country_flag = focus_EU001_maj_no					
			}
			set_country_flag = focus_EU001
		}				
	}
	
	Test_focus_EU001_QMV = {
	
		available = {
			NOT = { has_country_flag = focus_EU001_QMV }
		}
		
		visible = { 
			has_idea = EU_member 
		} 
		
		complete_effect = {   						
			set_country_flag = focus_EU001_QMV
		}				
	}
	
	Test_focus_EU001_maj = {
	
		available = {
			NOT = { has_country_flag = focus_EU001_maj }
		}
		
		visible = { 
			has_idea = EU_member 
		} 
		
		complete_effect = {   						
			set_country_flag = focus_EU001_maj
		}				
	}
	
	Test_influence = {
	
		available = {
			has_idea = EU_member
		}
		
		visible = { 
			has_idea = EU_member 
		} 
		
		complete_effect = {   						
			 set_temp_variable = { 
				influence_gain = 70 
			}
			for_loop_effect = { 
				end = influence_array^num value = v 
					if = { 
						limit = { 
							check_variable = { influence_array^v = GER } 
						} 
						add_to_variable = { influence_array_val^v = influence_gain }
						set_country_flag = found 
					} 
			} 
			if = { 
				limit = { 
					NOT = { has_country_flag = found } 
				} 
				add_to_array = { influence_array = GER.id }
				add_to_array = { influence_array_val = influence_gain } 
			} 
			clr_country_flag = found
			recalculate_influence = yes
		}				
	}

	EU_voting_decision_focus01 = {
	
		icon = GFX_decision_generic_european_union
	
		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EU001"
					AND = {
						has_country_flag = focus_EU001
						NOT = { 
							has_global_flag = focus_EU001_voted
							has_country_flag = focus_EU001_yes
						}
					}
				}
				OR = {	
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {	
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }						
								}	
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president						
				}	
			}
		}
		
		visible = { 
			has_country_flag = focus_EU001
			NOT = { 
			###	has_global_flag = focus_EU001_voted
				has_country_flag = focus_EU001_yes
			}
		}
		
		complete_effect = {
			set_global_flag = focus_EU001_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {	
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {	
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {	
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {	
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {	
				var = global.var_EUpopNo
				value = 0
			}				
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}
	
	EU_voting_decision_focus01_QMV = {
	
		icon = GFX_decision_generic_european_union
	
		available = {
			custom_trigger_tooltip = {
				tooltip = test123
				AND = {
					has_country_flag = focus_EU001_QMV
					NOT = { 
							has_global_flag = focus_EU001_QMV_voted
							has_country_flag = focus_EU001_QMV_yes
					}
					all_country = {	
						OR = {
							AND = {
								set_temp_variable = { temp_idx = -1 }
								any_of = {
									array = influence_array
									value = v
									index = i
									if = {
										limit = { var:v = { tag = ROOT } }
										set_temp_variable = { temp_idx = i }
										always = yes
									}
									else = { always = no }
								}
								check_variable = { temp_idx > -1 }
								check_variable = { influence_array_calc^temp_idx > 0.03 }						
							}	
							tag = PREV
							NOT = { has_idea = EU_member }
						}
					}					
				}	
			}
		}
		
		visible = { 
			has_country_flag = focus_EU001_QMV
			NOT = { 
				has_global_flag = focus_EU001_QMV_voted
				has_country_flag = focus_EU001_QMV_yes
			}
		}
		
		complete_effect = {
			set_global_flag = focus_EU001_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {	
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {	
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {	
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {	
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {	
				var = global.var_EUpopNo
				value = 0
			}				
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	EU_voting_decision_focus01_maj = {
	
		icon = GFX_decision_generic_european_union
	
		available = {
			custom_trigger_tooltip = {
				tooltip = test123
				AND = {
					has_country_flag = focus_EU001_maj
					NOT = { 
							has_global_flag = focus_EU001_maj_voted
							has_country_flag = focus_EU001_maj_yes
					}
					all_country = {	
						OR = {
							AND = {
								set_temp_variable = { temp_idx = -1 }
								any_of = {
									array = influence_array
									value = v
									index = i
									if = {
										limit = { var:v = { tag = ROOT } }
										set_temp_variable = { temp_idx = i }
										always = yes
									}
									else = { always = no }
								}
								check_variable = { temp_idx > -1 }
								check_variable = { influence_array_calc^temp_idx > 0.03 }						
							}	
							tag = PREV
							NOT = { has_idea = EU_member }
						}
					}					
				}	
			}
		}
		
		visible = { 
			has_country_flag = focus_EU001_maj
			NOT = { 
				has_global_flag = focus_EU001_maj_voted
				has_country_flag = focus_EU001_maj_yes
			}
		}
		
		complete_effect = {
			set_global_flag = focus_EU001_maj_voted
			set_global_flag = EU_majority_voting
			set_variable = {	
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {	
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {	
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {	
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {	
				var = global.var_EUpopNo
				value = 0
			}				
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	EU_voting_decision_focus01_result = {
	
		icon = GFX_decision_generic_european_union
	
		available = {
			NOT = { has_global_flag = focus_EU001_result }
			has_global_flag = focus_EU001_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			NOT = { has_global_flag = focus_EU001_result }		
			has_global_flag = focus_EU001_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}		
		}
		complete_effect = {
			set_global_flag = focus_EU001_result
			every_country = {
				limit = { has_country_flag = focus_EU001 }
				country_event = {
					id = EUvote.2
				}		
			}
		}
		ai_will_do = {
			factor = 100
		}
	}		

	EU_voting_decision_focus01_QMV_result = {
	
		icon = GFX_decision_generic_european_union
	
		available = {
			NOT = { has_global_flag = focus_EU001_QMV_result }
			has_global_flag = focus_EU001_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			NOT = { has_global_flag = focus_EU001_QMV_result }		
			has_global_flag = focus_EU001_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}		
		}
		complete_effect = {
			set_global_flag = focus_EU001_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU001_QMV }
				country_event = {
					id = EUvote.2
				}		
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	EU_voting_decision_focus01_maj_result = {
	
		icon = GFX_decision_generic_european_union
	
		available = {
			NOT = { has_global_flag = focus_EU001_maj_result }
			has_global_flag = focus_EU001_maj_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			NOT = { has_global_flag = focus_EU001_maj_result }		
			has_global_flag = focus_EU001_maj_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}		
		}
		complete_effect = {
			set_global_flag = focus_EU001_maj_result
			every_country = {
				limit = { has_country_flag = focus_EU001_maj }
				country_event = {
					id = EUvote.2
				}		
			}
		}
		ai_will_do = {
			factor = 100
		}
	}



##############################
### End of Testing Section ###
##############################

######################################
### EU Focus Tree Voting Decisions ###
######################################

	### EU Policies # NO Unanimity ###


	### EU Policies # NO QMV ###


	### EU Policies # NO maj ###


	### EU Policies # Result Decision # NO Unanimity ###

	### EU Policies # Result Decision QMV # NO QMV ###

	### EU Policies # Result Decision maj # NO maj ###




	### Memberstate Policies # NO Unanimity ###


	### Memberstate Policies # NO QMV ###


	### Memberstate Policies # NO maj ###


	### Memberstate Policies # Result Decision # NO Unanimity ###

	### Memberstate Policies # Result Decision QMV # NO QMV ###

	### Memberstate Policies # Result Decision maj # NO maj ###




	### EU Reforms # NO Unanimity ###


	### EU Reforms # NO QMV ###


	### EU Reforms # NO maj ###


	### EU Reforms # Result Decision # NO Unanimity ###

	### EU Reforms # Result Decision QMV # NO QMV ###

	### EU Reforms # Result Decision maj # NO maj ###




	### Charter of Fundamental Rights of the European Union ###
	EU_voting_decision_focus_EU101 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Charter of Fundamental Rights of the European Union"
					AND = {
						has_country_flag = focus_EU101
						NOT = {
							has_global_flag = focus_EU101_voted
							has_country_flag = focus_EU101_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU101
			NOT = {
				has_country_flag = focus_EU101_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU101_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Charter of Fundamental Rights of the European Union # NO QMV ###


	### Charter of Fundamental Rights of the European Union # NO maj ###


	### Charter of Fundamental Rights of the European Union # Result Decision ###
	EU_voting_decision_focus_EU101_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU101_result }
			has_global_flag = focus_EU101_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU101
			NOT = { has_global_flag = focus_EU101_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU101_result
			every_country = {
				limit = { has_country_flag = focus_EU101 }
				country_event = {
					id = EUvote.2101
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Charter of Fundamental Rights of the European Union # Result Decision QMV # NO QMV ###

	### Charter of Fundamental Rights of the European Union # Result Decision maj # NO maj ###

	### Charter of Fundamental Rights of the European Union retry ###

	EU_voting_decision_EU101_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU101_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU101_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU101_retry
			every_country = {
				clr_country_flag = focus_EU101_no
				clr_country_flag = focus_EU101_QMV_no
				clr_country_flag = focus_EU101_maj_no
			}
				set_country_flag = focus_EU101
		}
	}

	### European Convention # NO Unanimity ###


	### European Convention # NO QMV ###


	### European Convention ###
	EU_voting_decision_focus_EU102_maj = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Convention"
					AND = {
						has_country_flag = focus_EU102_maj
						NOT = {
							has_global_flag = focus_EU102_maj_voted
							has_country_flag = focus_EU102_maj_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU102_maj
			NOT = {
				has_country_flag = focus_EU102_maj_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU102_maj_voted
			set_global_flag = EU_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Convention # Result Decision # NO Unanimity ###

	### European Convention # Result Decision QMV # NO QMV ###

	### European Convention # Result Decision maj ###
	EU_voting_decision_focus_EU102_maj_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU102_maj_result }
			has_global_flag = focus_EU102_maj_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU102_maj
			NOT = { has_global_flag = focus_EU102_maj_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU102_maj_result
			every_country = {
				limit = { has_country_flag = focus_EU102_maj }
				country_event = {
					id = EUvote.2102
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Convention retry ###

	EU_voting_decision_EU102_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU102_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU102_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU102_retry
			every_country = {
				clr_country_flag = focus_EU102_no
				clr_country_flag = focus_EU102_QMV_no
				clr_country_flag = focus_EU102_maj_no
			}
					set_country_flag = focus_EU102_maj
		}
	}

	### European Constitution ###
	EU_voting_decision_focus_EU103 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Constitution"
					AND = {
						has_country_flag = focus_EU103
						NOT = {
							has_global_flag = focus_EU103_voted
							has_country_flag = focus_EU103_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU103
			NOT = {
				has_country_flag = focus_EU103_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU103_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Constitution # NO QMV ###


	### European Constitution # NO maj ###


	### European Constitution # Result Decision ###
	EU_voting_decision_focus_EU103_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU103_result }
			has_global_flag = focus_EU103_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU103
			NOT = { has_global_flag = focus_EU103_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU103_result
			every_country = {
				limit = { has_country_flag = focus_EU103 }
				country_event = {
					id = EUvote.2103
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Constitution # Result Decision QMV # NO QMV ###

	### European Constitution # Result Decision maj # NO maj ###

	### European Constitution retry ###

	EU_voting_decision_EU103_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU103_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU103_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU103_retry
			every_country = {
				clr_country_flag = focus_EU103_no
				clr_country_flag = focus_EU103_QMV_no
				clr_country_flag = focus_EU103_maj_no
			}
				set_country_flag = focus_EU103
		}
	}

	### Treaty of Lisbon ###
	EU_voting_decision_focus_EU104 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Treaty of Lisbon"
					AND = {
						has_country_flag = focus_EU104
						NOT = {
							has_global_flag = focus_EU104_voted
							has_country_flag = focus_EU104_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU104
			NOT = {
				has_country_flag = focus_EU104_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU104_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Treaty of Lisbon # NO QMV ###


	### Treaty of Lisbon # NO maj ###


	### Treaty of Lisbon # Result Decision ###
	EU_voting_decision_focus_EU104_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU104_result }
			has_global_flag = focus_EU104_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU104
			NOT = { has_global_flag = focus_EU104_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU104_result
			every_country = {
				limit = { has_country_flag = focus_EU104 }
				country_event = {
					id = EUvote.2104
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Treaty of Lisbon # Result Decision QMV # NO QMV ###

	### Treaty of Lisbon # Result Decision maj # NO maj ###

	### Treaty of Lisbon retry ###

	EU_voting_decision_EU104_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU104_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU104_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU104_retry
			every_country = {
				clr_country_flag = focus_EU104_no
				clr_country_flag = focus_EU104_QMV_no
				clr_country_flag = focus_EU104_maj_no
			}
				set_country_flag = focus_EU104
		}
	}

	### European External Action Service ###
	EU_voting_decision_focus_EU105 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European External Action Service"
					AND = {
						has_country_flag = focus_EU105
						NOT = {
							has_global_flag = focus_EU105_voted
							has_country_flag = focus_EU105_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU105
			NOT = {
				has_country_flag = focus_EU105_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU105_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European External Action Service # NO QMV ###


	### European External Action Service # NO maj ###


	### European External Action Service # Result Decision ###
	EU_voting_decision_focus_EU105_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU105_result }
			has_global_flag = focus_EU105_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU105
			NOT = { has_global_flag = focus_EU105_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU105_result
			every_country = {
				limit = { has_country_flag = focus_EU105 }
				country_event = {
					id = EUvote.2105
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European External Action Service # Result Decision QMV # NO QMV ###

	### European External Action Service # Result Decision maj # NO maj ###

	### European External Action Service retry ###

	EU_voting_decision_EU105_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU105_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU105_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU105_retry
			every_country = {
				clr_country_flag = focus_EU105_no
				clr_country_flag = focus_EU105_QMV_no
				clr_country_flag = focus_EU105_maj_no
			}
				set_country_flag = focus_EU105
		}
	}

	### EU Fiscal Policies # NO Unanimity ###


	### EU Fiscal Policies # NO QMV ###


	### EU Fiscal Policies # NO maj ###


	### EU Fiscal Policies # Result Decision # NO Unanimity ###

	### EU Fiscal Policies # Result Decision QMV # NO QMV ###

	### EU Fiscal Policies # Result Decision maj # NO maj ###




	### ECB Intervention # NO Unanimity ###


	### ECB Intervention # NO QMV ###


	### ECB Intervention ###
	EU_voting_decision_focus_EU201_maj = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus ECB Intervention"
					AND = {
						has_country_flag = focus_EU201_maj
						NOT = {
							has_global_flag = focus_EU201_maj_voted
							has_country_flag = focus_EU201_maj_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU201_maj
			NOT = {
				has_country_flag = focus_EU201_maj_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU201_maj_voted
			set_global_flag = EU_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### ECB Intervention # Result Decision # NO Unanimity ###

	### ECB Intervention # Result Decision QMV # NO QMV ###

	### ECB Intervention # Result Decision maj ###
	EU_voting_decision_focus_EU201_maj_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU201_maj_result }
			has_global_flag = focus_EU201_maj_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU201_maj
			NOT = { has_global_flag = focus_EU201_maj_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU201_maj_result
			every_country = {
				limit = { has_country_flag = focus_EU201_maj }
				country_event = {
					id = EUvote.2201
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### ECB Intervention retry ###

	EU_voting_decision_EU201_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU201_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU201_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU201_retry
			every_country = {
				clr_country_flag = focus_EU201_no
				clr_country_flag = focus_EU201_QMV_no
				clr_country_flag = focus_EU201_maj_no
			}
					set_country_flag = focus_EU201_maj
		}
	}

	### European Banking Union ###
	EU_voting_decision_focus_EU202 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Banking Union"
					AND = {
						has_country_flag = focus_EU202
						NOT = {
							has_global_flag = focus_EU202_voted
							has_country_flag = focus_EU202_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU202
			NOT = {
				has_country_flag = focus_EU202_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU202_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Banking Union ###
	EU_voting_decision_focus_EU202_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Banking Union"
					AND = {
						has_country_flag = focus_EU202_QMV
						NOT = {
							has_global_flag = focus_EU202_QMV_voted
							has_country_flag = focus_EU202_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU202_QMV
			NOT = {
				has_country_flag = focus_EU202_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU202_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Banking Union # NO maj ###


	### European Banking Union # Result Decision ###
	EU_voting_decision_focus_EU202_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU202_result }
			has_global_flag = focus_EU202_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU202
			NOT = { has_global_flag = focus_EU202_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU202_result
			every_country = {
				limit = { has_country_flag = focus_EU202 }
				country_event = {
					id = EUvote.2202
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Banking Union # Result Decision QMV ###
	EU_voting_decision_focus_EU202_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU202_QMV_result }
			has_global_flag = focus_EU202_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU202_QMV
			NOT = { has_global_flag = focus_EU202_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU202_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU202_QMV }
				country_event = {
					id = EUvote.2202
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Banking Union # Result Decision maj # NO maj ###

	### European Banking Union retry ###

	EU_voting_decision_EU202_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU202_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU202_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU202_retry
			every_country = {
				clr_country_flag = focus_EU202_no
				clr_country_flag = focus_EU202_QMV_no
				clr_country_flag = focus_EU202_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU202_QMV
			}
			else = {
				set_country_flag = focus_EU202
			}
		}
	}

	### Eurobonds ###
	EU_voting_decision_focus_EU203 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Eurobonds"
					AND = {
						has_country_flag = focus_EU203
						NOT = {
							has_global_flag = focus_EU203_voted
							has_country_flag = focus_EU203_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU203
			NOT = {
				has_country_flag = focus_EU203_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU203_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Eurobonds # NO QMV ###


	### Eurobonds # NO maj ###


	### Eurobonds # Result Decision ###
	EU_voting_decision_focus_EU203_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU203_result }
			has_global_flag = focus_EU203_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU203
			NOT = { has_global_flag = focus_EU203_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU203_result
			every_country = {
				limit = { has_country_flag = focus_EU203 }
				country_event = {
					id = EUvote.2203
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Eurobonds # Result Decision QMV # NO QMV ###

	### Eurobonds # Result Decision maj # NO maj ###

	### Eurobonds retry ###

	EU_voting_decision_EU203_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU203_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU203_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU203_retry
			every_country = {
				clr_country_flag = focus_EU203_no
				clr_country_flag = focus_EU203_QMV_no
				clr_country_flag = focus_EU203_maj_no
			}
				set_country_flag = focus_EU203
		}
	}

	### European Financial Stability Facility (EFSF) ###
	EU_voting_decision_focus_EU204 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Financial Stability Facility (EFSF)"
					AND = {
						has_country_flag = focus_EU204
						NOT = {
							has_global_flag = focus_EU204_voted
							has_country_flag = focus_EU204_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU204
			NOT = {
				has_country_flag = focus_EU204_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU204_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Financial Stability Facility (EFSF) # NO QMV ###


	### European Financial Stability Facility (EFSF) # NO maj ###


	### European Financial Stability Facility (EFSF) # Result Decision ###
	EU_voting_decision_focus_EU204_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU204_result }
			has_global_flag = focus_EU204_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU204
			NOT = { has_global_flag = focus_EU204_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU204_result
			every_country = {
				limit = { has_country_flag = focus_EU204 }
				country_event = {
					id = EUvote.2204
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Financial Stability Facility (EFSF) # Result Decision QMV # NO QMV ###

	### European Financial Stability Facility (EFSF) # Result Decision maj # NO maj ###

	### European Financial Stability Facility (EFSF) retry ###

	EU_voting_decision_EU204_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU204_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU204_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU204_retry
			every_country = {
				clr_country_flag = focus_EU204_no
				clr_country_flag = focus_EU204_QMV_no
				clr_country_flag = focus_EU204_maj_no
			}
				set_country_flag = focus_EU204
		}
	}

	### European Stability Mechanism (ESM) ###
	EU_voting_decision_focus_EU205 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Stability Mechanism (ESM)"
					AND = {
						has_country_flag = focus_EU205
						NOT = {
							has_global_flag = focus_EU205_voted
							has_country_flag = focus_EU205_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU205
			NOT = {
				has_country_flag = focus_EU205_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU205_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Stability Mechanism (ESM) # NO QMV ###


	### European Stability Mechanism (ESM) # NO maj ###


	### European Stability Mechanism (ESM) # Result Decision ###
	EU_voting_decision_focus_EU205_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU205_result }
			has_global_flag = focus_EU205_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU205
			NOT = { has_global_flag = focus_EU205_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU205_result
			every_country = {
				limit = { has_country_flag = focus_EU205 }
				country_event = {
					id = EUvote.2205
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Stability Mechanism (ESM) # Result Decision QMV # NO QMV ###

	### European Stability Mechanism (ESM) # Result Decision maj # NO maj ###

	### European Stability Mechanism (ESM) retry ###

	EU_voting_decision_EU205_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU205_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU205_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU205_retry
			every_country = {
				clr_country_flag = focus_EU205_no
				clr_country_flag = focus_EU205_QMV_no
				clr_country_flag = focus_EU205_maj_no
			}
				set_country_flag = focus_EU205
		}
	}

	### Fiscal Union ###
	EU_voting_decision_focus_EU206 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Fiscal Union"
					AND = {
						has_country_flag = focus_EU206
						NOT = {
							has_global_flag = focus_EU206_voted
							has_country_flag = focus_EU206_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU206
			NOT = {
				has_country_flag = focus_EU206_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU206_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Fiscal Union # NO QMV ###


	### Fiscal Union # NO maj ###


	### Fiscal Union # Result Decision ###
	EU_voting_decision_focus_EU206_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU206_result }
			has_global_flag = focus_EU206_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU206
			NOT = { has_global_flag = focus_EU206_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU206_result
			every_country = {
				limit = { has_country_flag = focus_EU206 }
				country_event = {
					id = EUvote.2206
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Fiscal Union # Result Decision QMV # NO QMV ###

	### Fiscal Union # Result Decision maj # NO maj ###

	### Fiscal Union retry ###

	EU_voting_decision_EU206_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU206_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU206_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU206_retry
			every_country = {
				clr_country_flag = focus_EU206_no
				clr_country_flag = focus_EU206_QMV_no
				clr_country_flag = focus_EU206_maj_no
			}
				set_country_flag = focus_EU206
		}
	}

	### European Economic Government ###
	EU_voting_decision_focus_EU207 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Economic Government"
					AND = {
						has_country_flag = focus_EU207
						NOT = {
							has_global_flag = focus_EU207_voted
							has_country_flag = focus_EU207_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU207
			NOT = {
				has_country_flag = focus_EU207_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU207_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Economic Government # NO QMV ###


	### European Economic Government # NO maj ###


	### European Economic Government # Result Decision ###
	EU_voting_decision_focus_EU207_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU207_result }
			has_global_flag = focus_EU207_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU207
			NOT = { has_global_flag = focus_EU207_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU207_result
			every_country = {
				limit = { has_country_flag = focus_EU207 }
				country_event = {
					id = EUvote.2207
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Economic Government # Result Decision QMV # NO QMV ###

	### European Economic Government # Result Decision maj # NO maj ###

	### European Economic Government retry ###

	EU_voting_decision_EU207_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU207_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU207_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU207_retry
			every_country = {
				clr_country_flag = focus_EU207_no
				clr_country_flag = focus_EU207_QMV_no
				clr_country_flag = focus_EU207_maj_no
			}
				set_country_flag = focus_EU207
		}
	}

	### European Minister of Economy and Finance ###
	EU_voting_decision_focus_EU208 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Minister of Economy and Finance"
					AND = {
						has_country_flag = focus_EU208
						NOT = {
							has_global_flag = focus_EU208_voted
							has_country_flag = focus_EU208_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU208
			NOT = {
				has_country_flag = focus_EU208_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU208_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Minister of Economy and Finance # NO QMV ###


	### European Minister of Economy and Finance # NO maj ###


	### European Minister of Economy and Finance # Result Decision ###
	EU_voting_decision_focus_EU208_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU208_result }
			has_global_flag = focus_EU208_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU208
			NOT = { has_global_flag = focus_EU208_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU208_result
			every_country = {
				limit = { has_country_flag = focus_EU208 }
				country_event = {
					id = EUvote.2208
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Minister of Economy and Finance # Result Decision QMV # NO QMV ###

	### European Minister of Economy and Finance # Result Decision maj # NO maj ###

	### European Minister of Economy and Finance retry ###

	EU_voting_decision_EU208_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU208_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU208_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU208_retry
			every_country = {
				clr_country_flag = focus_EU208_no
				clr_country_flag = focus_EU208_QMV_no
				clr_country_flag = focus_EU208_maj_no
			}
				set_country_flag = focus_EU208
		}
	}

	### EU Defense Policies # NO Unanimity ###


	### EU Defense Policies # NO QMV ###


	### EU Defense Policies # NO maj ###


	### EU Defense Policies # Result Decision # NO Unanimity ###

	### EU Defense Policies # Result Decision QMV # NO QMV ###

	### EU Defense Policies # Result Decision maj # NO maj ###




	### European Defence Agency (EDA) ###
	EU_voting_decision_focus_EU301 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Defence Agency (EDA)"
					AND = {
						has_country_flag = focus_EU301
						NOT = {
							has_global_flag = focus_EU301_voted
							has_country_flag = focus_EU301_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU301
			NOT = {
				has_country_flag = focus_EU301_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU301_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Defence Agency (EDA) ###
	EU_voting_decision_focus_EU301_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Defence Agency (EDA)"
					AND = {
						has_country_flag = focus_EU301_QMV
						NOT = {
							has_global_flag = focus_EU301_QMV_voted
							has_country_flag = focus_EU301_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU301_QMV
			NOT = {
				has_country_flag = focus_EU301_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU301_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Defence Agency (EDA) # NO maj ###


	### European Defence Agency (EDA) # Result Decision ###
	EU_voting_decision_focus_EU301_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU301_result }
			has_global_flag = focus_EU301_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU301
			NOT = { has_global_flag = focus_EU301_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU301_result
			every_country = {
				limit = { has_country_flag = focus_EU301 }
				country_event = {
					id = EUvote.2301
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Defence Agency (EDA) # Result Decision QMV ###
	EU_voting_decision_focus_EU301_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU301_QMV_result }
			has_global_flag = focus_EU301_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU301_QMV
			NOT = { has_global_flag = focus_EU301_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU301_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU301_QMV }
				country_event = {
					id = EUvote.2301
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Defence Agency (EDA) # Result Decision maj # NO maj ###

	### European Defence Agency (EDA) retry ###

	EU_voting_decision_EU301_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU301_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU301_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU301_retry
			every_country = {
				clr_country_flag = focus_EU301_no
				clr_country_flag = focus_EU301_QMV_no
				clr_country_flag = focus_EU301_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU301_QMV
			}
			else = {
				set_country_flag = focus_EU301
			}
		}
	}

	### Permanent Structured Cooperation (PESCO) ###
	EU_voting_decision_focus_EU302 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Permanent Structured Cooperation (PESCO)"
					AND = {
						has_country_flag = focus_EU302
						NOT = {
							has_global_flag = focus_EU302_voted
							has_country_flag = focus_EU302_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU302
			NOT = {
				has_country_flag = focus_EU302_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU302_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Permanent Structured Cooperation (PESCO) ###
	EU_voting_decision_focus_EU302_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Permanent Structured Cooperation (PESCO)"
					AND = {
						has_country_flag = focus_EU302_QMV
						NOT = {
							has_global_flag = focus_EU302_QMV_voted
							has_country_flag = focus_EU302_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU302_QMV
			NOT = {
				has_country_flag = focus_EU302_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU302_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Permanent Structured Cooperation (PESCO) # NO maj ###


	### Permanent Structured Cooperation (PESCO) # Result Decision ###
	EU_voting_decision_focus_EU302_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU302_result }
			has_global_flag = focus_EU302_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU302
			NOT = { has_global_flag = focus_EU302_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU302_result
			every_country = {
				limit = { has_country_flag = focus_EU302 }
				country_event = {
					id = EUvote.2302
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Permanent Structured Cooperation (PESCO) # Result Decision QMV ###
	EU_voting_decision_focus_EU302_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU302_QMV_result }
			has_global_flag = focus_EU302_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU302_QMV
			NOT = { has_global_flag = focus_EU302_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU302_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU302_QMV }
				country_event = {
					id = EUvote.2302
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Permanent Structured Cooperation (PESCO) # Result Decision maj # NO maj ###

	### Permanent Structured Cooperation (PESCO) retry ###

	EU_voting_decision_EU302_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU302_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU302_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU302_retry
			every_country = {
				clr_country_flag = focus_EU302_no
				clr_country_flag = focus_EU302_QMV_no
				clr_country_flag = focus_EU302_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU302_QMV
			}
			else = {
				set_country_flag = focus_EU302
			}
		}
	}

	### European Defence Fund ###
	EU_voting_decision_focus_EU303 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Defence Fund"
					AND = {
						has_country_flag = focus_EU303
						NOT = {
							has_global_flag = focus_EU303_voted
							has_country_flag = focus_EU303_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU303
			NOT = {
				has_country_flag = focus_EU303_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU303_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Defence Fund ###
	EU_voting_decision_focus_EU303_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Defence Fund"
					AND = {
						has_country_flag = focus_EU303_QMV
						NOT = {
							has_global_flag = focus_EU303_QMV_voted
							has_country_flag = focus_EU303_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU303_QMV
			NOT = {
				has_country_flag = focus_EU303_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU303_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Defence Fund # NO maj ###


	### European Defence Fund # Result Decision ###
	EU_voting_decision_focus_EU303_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU303_result }
			has_global_flag = focus_EU303_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU303
			NOT = { has_global_flag = focus_EU303_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU303_result
			every_country = {
				limit = { has_country_flag = focus_EU303 }
				country_event = {
					id = EUvote.2303
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Defence Fund # Result Decision QMV ###
	EU_voting_decision_focus_EU303_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU303_QMV_result }
			has_global_flag = focus_EU303_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU303_QMV
			NOT = { has_global_flag = focus_EU303_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU303_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU303_QMV }
				country_event = {
					id = EUvote.2303
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Defence Fund # Result Decision maj # NO maj ###

	### European Defence Fund retry ###

	EU_voting_decision_EU303_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU303_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU303_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU303_retry
			every_country = {
				clr_country_flag = focus_EU303_no
				clr_country_flag = focus_EU303_QMV_no
				clr_country_flag = focus_EU303_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU303_QMV
			}
			else = {
				set_country_flag = focus_EU303
			}
		}
	}

	### European Security Council ###
	EU_voting_decision_focus_EU304 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Security Council"
					AND = {
						has_country_flag = focus_EU304
						NOT = {
							has_global_flag = focus_EU304_voted
							has_country_flag = focus_EU304_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU304
			NOT = {
				has_country_flag = focus_EU304_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU304_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Security Council ###
	EU_voting_decision_focus_EU304_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Security Council"
					AND = {
						has_country_flag = focus_EU304_QMV
						NOT = {
							has_global_flag = focus_EU304_QMV_voted
							has_country_flag = focus_EU304_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU304_QMV
			NOT = {
				has_country_flag = focus_EU304_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU304_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Security Council # NO maj ###


	### European Security Council # Result Decision ###
	EU_voting_decision_focus_EU304_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU304_result }
			has_global_flag = focus_EU304_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU304
			NOT = { has_global_flag = focus_EU304_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU304_result
			every_country = {
				limit = { has_country_flag = focus_EU304 }
				country_event = {
					id = EUvote.2304
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Security Council # Result Decision QMV ###
	EU_voting_decision_focus_EU304_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU304_QMV_result }
			has_global_flag = focus_EU304_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU304_QMV
			NOT = { has_global_flag = focus_EU304_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU304_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU304_QMV }
				country_event = {
					id = EUvote.2304
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Security Council # Result Decision maj # NO maj ###

	### European Security Council retry ###

	EU_voting_decision_EU304_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU304_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU304_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU304_retry
			every_country = {
				clr_country_flag = focus_EU304_no
				clr_country_flag = focus_EU304_QMV_no
				clr_country_flag = focus_EU304_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU304_QMV
			}
			else = {
				set_country_flag = focus_EU304
			}
		}
	}

	### EuroArmy ###
	EU_voting_decision_focus_EU305 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EuroArmy"
					AND = {
						has_country_flag = focus_EU305
						NOT = {
							has_global_flag = focus_EU305_voted
							has_country_flag = focus_EU305_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU305
			NOT = {
				has_country_flag = focus_EU305_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU305_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EuroArmy ###
	EU_voting_decision_focus_EU305_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EuroArmy"
					AND = {
						has_country_flag = focus_EU305_QMV
						NOT = {
							has_global_flag = focus_EU305_QMV_voted
							has_country_flag = focus_EU305_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU305_QMV
			NOT = {
				has_country_flag = focus_EU305_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU305_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EuroArmy # NO maj ###


	### EuroArmy # Result Decision ###
	EU_voting_decision_focus_EU305_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU305_result }
			has_global_flag = focus_EU305_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU305
			NOT = { has_global_flag = focus_EU305_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU305_result
			every_country = {
				limit = { has_country_flag = focus_EU305 }
				country_event = {
					id = EUvote.2305
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EuroArmy # Result Decision QMV ###
	EU_voting_decision_focus_EU305_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU305_QMV_result }
			has_global_flag = focus_EU305_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU305_QMV
			NOT = { has_global_flag = focus_EU305_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU305_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU305_QMV }
				country_event = {
					id = EUvote.2305
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EuroArmy # Result Decision maj # NO maj ###

	### EuroArmy retry ###

	EU_voting_decision_EU305_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU305_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU305_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU305_retry
			every_country = {
				clr_country_flag = focus_EU305_no
				clr_country_flag = focus_EU305_QMV_no
				clr_country_flag = focus_EU305_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU305_QMV
			}
			else = {
				set_country_flag = focus_EU305
			}
		}
	}

	### EuroNavy ###
	EU_voting_decision_focus_EU306 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EuroNavy"
					AND = {
						has_country_flag = focus_EU306
						NOT = {
							has_global_flag = focus_EU306_voted
							has_country_flag = focus_EU306_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU306
			NOT = {
				has_country_flag = focus_EU306_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU306_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EuroNavy ###
	EU_voting_decision_focus_EU306_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EuroNavy"
					AND = {
						has_country_flag = focus_EU306_QMV
						NOT = {
							has_global_flag = focus_EU306_QMV_voted
							has_country_flag = focus_EU306_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU306_QMV
			NOT = {
				has_country_flag = focus_EU306_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU306_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EuroNavy # NO maj ###


	### EuroNavy # Result Decision ###
	EU_voting_decision_focus_EU306_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU306_result }
			has_global_flag = focus_EU306_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU306
			NOT = { has_global_flag = focus_EU306_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU306_result
			every_country = {
				limit = { has_country_flag = focus_EU306 }
				country_event = {
					id = EUvote.2306
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EuroNavy # Result Decision QMV ###
	EU_voting_decision_focus_EU306_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU306_QMV_result }
			has_global_flag = focus_EU306_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU306_QMV
			NOT = { has_global_flag = focus_EU306_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU306_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU306_QMV }
				country_event = {
					id = EUvote.2306
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EuroNavy # Result Decision maj # NO maj ###

	### EuroNavy retry ###

	EU_voting_decision_EU306_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU306_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU306_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU306_retry
			every_country = {
				clr_country_flag = focus_EU306_no
				clr_country_flag = focus_EU306_QMV_no
				clr_country_flag = focus_EU306_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU306_QMV
			}
			else = {
				set_country_flag = focus_EU306
			}
		}
	}

	### EU Permanent Member of the UNSC ###
	EU_voting_decision_focus_EU307 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EU Permanent Member of the UNSC"
					AND = {
						has_country_flag = focus_EU307
						NOT = {
							has_global_flag = focus_EU307_voted
							has_country_flag = focus_EU307_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU307
			NOT = {
				has_country_flag = focus_EU307_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU307_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EU Permanent Member of the UNSC ###
	EU_voting_decision_focus_EU307_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EU Permanent Member of the UNSC"
					AND = {
						has_country_flag = focus_EU307_QMV
						NOT = {
							has_global_flag = focus_EU307_QMV_voted
							has_country_flag = focus_EU307_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU307_QMV
			NOT = {
				has_country_flag = focus_EU307_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU307_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EU Permanent Member of the UNSC # NO maj ###


	### EU Permanent Member of the UNSC # Result Decision ###
	EU_voting_decision_focus_EU307_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU307_result }
			has_global_flag = focus_EU307_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU307
			NOT = { has_global_flag = focus_EU307_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU307_result
			every_country = {
				limit = { has_country_flag = focus_EU307 }
				country_event = {
					id = EUvote.2307
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EU Permanent Member of the UNSC # Result Decision QMV ###
	EU_voting_decision_focus_EU307_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU307_QMV_result }
			has_global_flag = focus_EU307_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU307_QMV
			NOT = { has_global_flag = focus_EU307_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU307_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU307_QMV }
				country_event = {
					id = EUvote.2307
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EU Permanent Member of the UNSC # Result Decision maj # NO maj ###

	### EU Permanent Member of the UNSC retry ###

	EU_voting_decision_EU307_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU307_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU307_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU307_retry
			every_country = {
				clr_country_flag = focus_EU307_no
				clr_country_flag = focus_EU307_QMV_no
				clr_country_flag = focus_EU307_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU307_QMV
			}
			else = {
				set_country_flag = focus_EU307
			}
		}
	}

	### EU Nuclear Power ###
	EU_voting_decision_focus_EU308 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EU Nuclear Power"
					AND = {
						has_country_flag = focus_EU308
						NOT = {
							has_global_flag = focus_EU308_voted
							has_country_flag = focus_EU308_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU308
			NOT = {
				has_country_flag = focus_EU308_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU308_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EU Nuclear Power ###
	EU_voting_decision_focus_EU308_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EU Nuclear Power"
					AND = {
						has_country_flag = focus_EU308_QMV
						NOT = {
							has_global_flag = focus_EU308_QMV_voted
							has_country_flag = focus_EU308_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU308_QMV
			NOT = {
				has_country_flag = focus_EU308_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU308_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EU Nuclear Power # NO maj ###


	### EU Nuclear Power # Result Decision ###
	EU_voting_decision_focus_EU308_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU308_result }
			has_global_flag = focus_EU308_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU308
			NOT = { has_global_flag = focus_EU308_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU308_result
			every_country = {
				limit = { has_country_flag = focus_EU308 }
				country_event = {
					id = EUvote.2308
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EU Nuclear Power # Result Decision QMV ###
	EU_voting_decision_focus_EU308_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU308_QMV_result }
			has_global_flag = focus_EU308_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU308_QMV
			NOT = { has_global_flag = focus_EU308_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU308_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU308_QMV }
				country_event = {
					id = EUvote.2308
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EU Nuclear Power # Result Decision maj # NO maj ###

	### EU Nuclear Power retry ###

	EU_voting_decision_EU308_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU308_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU308_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU308_retry
			every_country = {
				clr_country_flag = focus_EU308_no
				clr_country_flag = focus_EU308_QMV_no
				clr_country_flag = focus_EU308_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU308_QMV
			}
			else = {
				set_country_flag = focus_EU308
			}
		}
	}

	### EU Secondary Legislation # NO Unanimity ###


	### EU Secondary Legislation # NO QMV ###


	### EU Secondary Legislation # NO maj ###


	### EU Secondary Legislation # Result Decision # NO Unanimity ###

	### EU Secondary Legislation # Result Decision QMV # NO QMV ###

	### EU Secondary Legislation # Result Decision maj # NO maj ###




	### General Data Protection Regulation ###
	EU_voting_decision_focus_EU401 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus General Data Protection Regulation"
					AND = {
						has_country_flag = focus_EU401
						NOT = {
							has_global_flag = focus_EU401_voted
							has_country_flag = focus_EU401_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU401
			NOT = {
				has_country_flag = focus_EU401_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU401_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### General Data Protection Regulation ###
	EU_voting_decision_focus_EU401_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus General Data Protection Regulation"
					AND = {
						has_country_flag = focus_EU401_QMV
						NOT = {
							has_global_flag = focus_EU401_QMV_voted
							has_country_flag = focus_EU401_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU401_QMV
			NOT = {
				has_country_flag = focus_EU401_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU401_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### General Data Protection Regulation # NO maj ###


	### General Data Protection Regulation # Result Decision ###
	EU_voting_decision_focus_EU401_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU401_result }
			has_global_flag = focus_EU401_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU401
			NOT = { has_global_flag = focus_EU401_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU401_result
			every_country = {
				limit = { has_country_flag = focus_EU401 }
				country_event = {
					id = EUvote.2401
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### General Data Protection Regulation # Result Decision QMV ###
	EU_voting_decision_focus_EU401_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU401_QMV_result }
			has_global_flag = focus_EU401_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU401_QMV
			NOT = { has_global_flag = focus_EU401_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU401_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU401_QMV }
				country_event = {
					id = EUvote.2401
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### General Data Protection Regulation # Result Decision maj # NO maj ###

	### General Data Protection Regulation retry ###

	EU_voting_decision_EU401_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU401_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU401_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU401_retry
			every_country = {
				clr_country_flag = focus_EU401_no
				clr_country_flag = focus_EU401_QMV_no
				clr_country_flag = focus_EU401_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU401_QMV
			}
			else = {
				set_country_flag = focus_EU401
			}
		}
	}

	### Directive on Copyright in the Digital Single Market ###
	EU_voting_decision_focus_EU402 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Directive on Copyright in the Digital Single Market"
					AND = {
						has_country_flag = focus_EU402
						NOT = {
							has_global_flag = focus_EU402_voted
							has_country_flag = focus_EU402_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU402
			NOT = {
				has_country_flag = focus_EU402_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU402_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Directive on Copyright in the Digital Single Market ###
	EU_voting_decision_focus_EU402_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Directive on Copyright in the Digital Single Market"
					AND = {
						has_country_flag = focus_EU402_QMV
						NOT = {
							has_global_flag = focus_EU402_QMV_voted
							has_country_flag = focus_EU402_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU402_QMV
			NOT = {
				has_country_flag = focus_EU402_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU402_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Directive on Copyright in the Digital Single Market # NO maj ###


	### Directive on Copyright in the Digital Single Market # Result Decision ###
	EU_voting_decision_focus_EU402_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU402_result }
			has_global_flag = focus_EU402_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU402
			NOT = { has_global_flag = focus_EU402_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU402_result
			every_country = {
				limit = { has_country_flag = focus_EU402 }
				country_event = {
					id = EUvote.2402
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Directive on Copyright in the Digital Single Market # Result Decision QMV ###
	EU_voting_decision_focus_EU402_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU402_QMV_result }
			has_global_flag = focus_EU402_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU402_QMV
			NOT = { has_global_flag = focus_EU402_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU402_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU402_QMV }
				country_event = {
					id = EUvote.2402
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Directive on Copyright in the Digital Single Market # Result Decision maj # NO maj ###

	### Directive on Copyright in the Digital Single Market retry ###

	EU_voting_decision_EU402_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU402_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU402_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU402_retry
			every_country = {
				clr_country_flag = focus_EU402_no
				clr_country_flag = focus_EU402_QMV_no
				clr_country_flag = focus_EU402_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU402_QMV
			}
			else = {
				set_country_flag = focus_EU402
			}
		}
	}

	### Dublin II Regulation ###
	EU_voting_decision_focus_EU403 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Dublin II Regulation"
					AND = {
						has_country_flag = focus_EU403
						NOT = {
							has_global_flag = focus_EU403_voted
							has_country_flag = focus_EU403_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU403
			NOT = {
				has_country_flag = focus_EU403_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU403_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Dublin II Regulation ###
	EU_voting_decision_focus_EU403_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Dublin II Regulation"
					AND = {
						has_country_flag = focus_EU403_QMV
						NOT = {
							has_global_flag = focus_EU403_QMV_voted
							has_country_flag = focus_EU403_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU403_QMV
			NOT = {
				has_country_flag = focus_EU403_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU403_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Dublin II Regulation # NO maj ###


	### Dublin II Regulation # Result Decision ###
	EU_voting_decision_focus_EU403_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU403_result }
			has_global_flag = focus_EU403_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU403
			NOT = { has_global_flag = focus_EU403_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU403_result
			every_country = {
				limit = { has_country_flag = focus_EU403 }
				country_event = {
					id = EUvote.2403
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Dublin II Regulation # Result Decision QMV ###
	EU_voting_decision_focus_EU403_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU403_QMV_result }
			has_global_flag = focus_EU403_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU403_QMV
			NOT = { has_global_flag = focus_EU403_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU403_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU403_QMV }
				country_event = {
					id = EUvote.2403
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Dublin II Regulation # Result Decision maj # NO maj ###

	### Dublin II Regulation retry ###

	EU_voting_decision_EU403_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU403_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU403_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU403_retry
			every_country = {
				clr_country_flag = focus_EU403_no
				clr_country_flag = focus_EU403_QMV_no
				clr_country_flag = focus_EU403_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU403_QMV
			}
			else = {
				set_country_flag = focus_EU403
			}
		}
	}

	### Relocation and Resettlement of Asylum Seekers ###
	EU_voting_decision_focus_EU404 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Relocation and Resettlement of Asylum Seekers"
					AND = {
						has_country_flag = focus_EU404
						NOT = {
							has_global_flag = focus_EU404_voted
							has_country_flag = focus_EU404_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU404
			NOT = {
				has_country_flag = focus_EU404_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU404_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Relocation and Resettlement of Asylum Seekers ###
	EU_voting_decision_focus_EU404_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Relocation and Resettlement of Asylum Seekers"
					AND = {
						has_country_flag = focus_EU404_QMV
						NOT = {
							has_global_flag = focus_EU404_QMV_voted
							has_country_flag = focus_EU404_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU404_QMV
			NOT = {
				has_country_flag = focus_EU404_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU404_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Relocation and Resettlement of Asylum Seekers # NO maj ###


	### Relocation and Resettlement of Asylum Seekers # Result Decision ###
	EU_voting_decision_focus_EU404_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU404_result }
			has_global_flag = focus_EU404_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU404
			NOT = { has_global_flag = focus_EU404_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU404_result
			every_country = {
				limit = { has_country_flag = focus_EU404 }
				country_event = {
					id = EUvote.2404
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Relocation and Resettlement of Asylum Seekers # Result Decision QMV ###
	EU_voting_decision_focus_EU404_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU404_QMV_result }
			has_global_flag = focus_EU404_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU404_QMV
			NOT = { has_global_flag = focus_EU404_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU404_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU404_QMV }
				country_event = {
					id = EUvote.2404
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Relocation and Resettlement of Asylum Seekers # Result Decision maj # NO maj ###

	### Relocation and Resettlement of Asylum Seekers retry ###

	EU_voting_decision_EU404_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU404_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU404_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU404_retry
			every_country = {
				clr_country_flag = focus_EU404_no
				clr_country_flag = focus_EU404_QMV_no
				clr_country_flag = focus_EU404_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU404_QMV
			}
			else = {
				set_country_flag = focus_EU404
			}
		}
	}

	### EUTurkey deal ###
	EU_voting_decision_focus_EU405 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EUTurkey deal"
					AND = {
						has_country_flag = focus_EU405
						NOT = {
							has_global_flag = focus_EU405_voted
							has_country_flag = focus_EU405_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU405
			NOT = {
				has_country_flag = focus_EU405_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU405_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EUTurkey deal ###
	EU_voting_decision_focus_EU405_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus EUTurkey deal"
					AND = {
						has_country_flag = focus_EU405_QMV
						NOT = {
							has_global_flag = focus_EU405_QMV_voted
							has_country_flag = focus_EU405_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU405_QMV
			NOT = {
				has_country_flag = focus_EU405_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU405_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### EUTurkey deal # NO maj ###


	### EUTurkey deal # Result Decision ###
	EU_voting_decision_focus_EU405_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU405_result }
			has_global_flag = focus_EU405_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU405
			NOT = { has_global_flag = focus_EU405_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU405_result
			every_country = {
				limit = { has_country_flag = focus_EU405 }
				country_event = {
					id = EUvote.2405
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EUTurkey deal # Result Decision QMV ###
	EU_voting_decision_focus_EU405_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU405_QMV_result }
			has_global_flag = focus_EU405_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU405_QMV
			NOT = { has_global_flag = focus_EU405_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU405_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU405_QMV }
				country_event = {
					id = EUvote.2405
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### EUTurkey deal # Result Decision maj # NO maj ###

	### EUTurkey deal retry ###

	EU_voting_decision_EU405_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU405_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU405_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU405_retry
			every_country = {
				clr_country_flag = focus_EU405_no
				clr_country_flag = focus_EU405_QMV_no
				clr_country_flag = focus_EU405_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU405_QMV
			}
			else = {
				set_country_flag = focus_EU405
			}
		}
	}

	### European Asylum Agency ###
	EU_voting_decision_focus_EU406 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Asylum Agency"
					AND = {
						has_country_flag = focus_EU406
						NOT = {
							has_global_flag = focus_EU406_voted
							has_country_flag = focus_EU406_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU406
			NOT = {
				has_country_flag = focus_EU406_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU406_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Asylum Agency ###
	EU_voting_decision_focus_EU406_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Asylum Agency"
					AND = {
						has_country_flag = focus_EU406_QMV
						NOT = {
							has_global_flag = focus_EU406_QMV_voted
							has_country_flag = focus_EU406_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU406_QMV
			NOT = {
				has_country_flag = focus_EU406_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU406_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Asylum Agency # NO maj ###


	### European Asylum Agency # Result Decision ###
	EU_voting_decision_focus_EU406_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU406_result }
			has_global_flag = focus_EU406_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU406
			NOT = { has_global_flag = focus_EU406_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU406_result
			every_country = {
				limit = { has_country_flag = focus_EU406 }
				country_event = {
					id = EUvote.2406
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Asylum Agency # Result Decision QMV ###
	EU_voting_decision_focus_EU406_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU406_QMV_result }
			has_global_flag = focus_EU406_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU406_QMV
			NOT = { has_global_flag = focus_EU406_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU406_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU406_QMV }
				country_event = {
					id = EUvote.2406
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Asylum Agency # Result Decision maj # NO maj ###

	### European Asylum Agency retry ###

	EU_voting_decision_EU406_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU406_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU406_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU406_retry
			every_country = {
				clr_country_flag = focus_EU406_no
				clr_country_flag = focus_EU406_QMV_no
				clr_country_flag = focus_EU406_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU406_QMV
			}
			else = {
				set_country_flag = focus_EU406
			}
		}
	}

	### Frontex ###
	EU_voting_decision_focus_EU407 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Frontex"
					AND = {
						has_country_flag = focus_EU407
						NOT = {
							has_global_flag = focus_EU407_voted
							has_country_flag = focus_EU407_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU407
			NOT = {
				has_country_flag = focus_EU407_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU407_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Frontex ###
	EU_voting_decision_focus_EU407_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Frontex"
					AND = {
						has_country_flag = focus_EU407_QMV
						NOT = {
							has_global_flag = focus_EU407_QMV_voted
							has_country_flag = focus_EU407_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU407_QMV
			NOT = {
				has_country_flag = focus_EU407_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU407_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Frontex # NO maj ###


	### Frontex # Result Decision ###
	EU_voting_decision_focus_EU407_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU407_result }
			has_global_flag = focus_EU407_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU407
			NOT = { has_global_flag = focus_EU407_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU407_result
			every_country = {
				limit = { has_country_flag = focus_EU407 }
				country_event = {
					id = EUvote.2407
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Frontex # Result Decision QMV ###
	EU_voting_decision_focus_EU407_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU407_QMV_result }
			has_global_flag = focus_EU407_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU407_QMV
			NOT = { has_global_flag = focus_EU407_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU407_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU407_QMV }
				country_event = {
					id = EUvote.2407
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Frontex # Result Decision maj # NO maj ###

	### Frontex retry ###

	EU_voting_decision_EU407_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU407_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU407_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU407_retry
			every_country = {
				clr_country_flag = focus_EU407_no
				clr_country_flag = focus_EU407_QMV_no
				clr_country_flag = focus_EU407_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU407_QMV
			}
			else = {
				set_country_flag = focus_EU407
			}
		}
	}

	### European Border and Coast Guard Agency ###
	EU_voting_decision_focus_EU408 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Border and Coast Guard Agency"
					AND = {
						has_country_flag = focus_EU408
						NOT = {
							has_global_flag = focus_EU408_voted
							has_country_flag = focus_EU408_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU408
			NOT = {
				has_country_flag = focus_EU408_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU408_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Border and Coast Guard Agency ###
	EU_voting_decision_focus_EU408_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Border and Coast Guard Agency"
					AND = {
						has_country_flag = focus_EU408_QMV
						NOT = {
							has_global_flag = focus_EU408_QMV_voted
							has_country_flag = focus_EU408_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU408_QMV
			NOT = {
				has_country_flag = focus_EU408_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU408_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Border and Coast Guard Agency # NO maj ###


	### European Border and Coast Guard Agency # Result Decision ###
	EU_voting_decision_focus_EU408_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU408_result }
			has_global_flag = focus_EU408_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU408
			NOT = { has_global_flag = focus_EU408_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU408_result
			every_country = {
				limit = { has_country_flag = focus_EU408 }
				country_event = {
					id = EUvote.2408
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Border and Coast Guard Agency # Result Decision QMV ###
	EU_voting_decision_focus_EU408_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU408_QMV_result }
			has_global_flag = focus_EU408_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU408_QMV
			NOT = { has_global_flag = focus_EU408_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU408_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU408_QMV }
				country_event = {
					id = EUvote.2408
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Border and Coast Guard Agency # Result Decision maj # NO maj ###

	### European Border and Coast Guard Agency retry ###

	EU_voting_decision_EU408_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU408_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU408_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU408_retry
			every_country = {
				clr_country_flag = focus_EU408_no
				clr_country_flag = focus_EU408_QMV_no
				clr_country_flag = focus_EU408_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU408_QMV
			}
			else = {
				set_country_flag = focus_EU408
			}
		}
	}

	### European Commission Policies  # NO Unanimity ###


	### European Commission Policies  # NO QMV ###


	### European Commission Policies  # NO maj ###


	### European Commission Policies  # Result Decision # NO Unanimity ###

	### European Commission Policies  # Result Decision QMV # NO QMV ###

	### European Commission Policies  # Result Decision maj # NO maj ###




	### EU Enlargement # NO Unanimity ###


	### EU Enlargement # NO QMV ###


	### EU Enlargement # NO maj ###


	### EU Enlargement # Result Decision # NO Unanimity ###

	### EU Enlargement # Result Decision QMV # NO QMV ###

	### EU Enlargement # Result Decision maj # NO maj ###




	### 2004 enlargement of the European Union ###
	EU_voting_decision_focus_EU601 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus 2004 enlargement of the European Union"
					AND = {
						has_country_flag = focus_EU601
						NOT = {
							has_global_flag = focus_EU601_voted
							has_country_flag = focus_EU601_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU601
			NOT = {
				has_country_flag = focus_EU601_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU601_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### 2004 enlargement of the European Union ###
	EU_voting_decision_focus_EU601_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus 2004 enlargement of the European Union"
					AND = {
						has_country_flag = focus_EU601_QMV
						NOT = {
							has_global_flag = focus_EU601_QMV_voted
							has_country_flag = focus_EU601_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU601_QMV
			NOT = {
				has_country_flag = focus_EU601_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU601_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### 2004 enlargement of the European Union # NO maj ###


	### 2004 enlargement of the European Union # Result Decision ###
	EU_voting_decision_focus_EU601_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU601_result }
			has_global_flag = focus_EU601_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU601
			NOT = { has_global_flag = focus_EU601_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU601_result
			every_country = {
				limit = { has_country_flag = focus_EU601 }
				country_event = {
					id = EUvote.2601
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### 2004 enlargement of the European Union # Result Decision QMV ###
	EU_voting_decision_focus_EU601_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU601_QMV_result }
			has_global_flag = focus_EU601_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU601_QMV
			NOT = { has_global_flag = focus_EU601_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU601_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU601_QMV }
				country_event = {
					id = EUvote.2601
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### 2004 enlargement of the European Union # Result Decision maj # NO maj ###

	### 2004 enlargement of the European Union retry ###

	EU_voting_decision_EU601_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU601_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU601_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU601_retry
			every_country = {
				clr_country_flag = focus_EU601_no
				clr_country_flag = focus_EU601_QMV_no
				clr_country_flag = focus_EU601_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU601_QMV
			}
			else = {
				set_country_flag = focus_EU601
			}
		}
	}

	### 2007 enlargement of the European Union ###
	EU_voting_decision_focus_EU602 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus 2007 enlargement of the European Union"
					AND = {
						has_country_flag = focus_EU602
						NOT = {
							has_global_flag = focus_EU602_voted
							has_country_flag = focus_EU602_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU602
			NOT = {
				has_country_flag = focus_EU602_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU602_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### 2007 enlargement of the European Union ###
	EU_voting_decision_focus_EU602_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus 2007 enlargement of the European Union"
					AND = {
						has_country_flag = focus_EU602_QMV
						NOT = {
							has_global_flag = focus_EU602_QMV_voted
							has_country_flag = focus_EU602_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU602_QMV
			NOT = {
				has_country_flag = focus_EU602_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU602_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### 2007 enlargement of the European Union # NO maj ###


	### 2007 enlargement of the European Union # Result Decision ###
	EU_voting_decision_focus_EU602_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU602_result }
			has_global_flag = focus_EU602_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU602
			NOT = { has_global_flag = focus_EU602_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU602_result
			every_country = {
				limit = { has_country_flag = focus_EU602 }
				country_event = {
					id = EUvote.2602
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### 2007 enlargement of the European Union # Result Decision QMV ###
	EU_voting_decision_focus_EU602_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU602_QMV_result }
			has_global_flag = focus_EU602_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU602_QMV
			NOT = { has_global_flag = focus_EU602_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU602_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU602_QMV }
				country_event = {
					id = EUvote.2602
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### 2007 enlargement of the European Union # Result Decision maj # NO maj ###

	### 2007 enlargement of the European Union retry ###

	EU_voting_decision_EU602_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU602_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU602_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU602_retry
			every_country = {
				clr_country_flag = focus_EU602_no
				clr_country_flag = focus_EU602_QMV_no
				clr_country_flag = focus_EU602_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU602_QMV
			}
			else = {
				set_country_flag = focus_EU602
			}
		}
	}

	### 2013 enlargement of the European Union ###
	EU_voting_decision_focus_EU603 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus 2013 enlargement of the European Union"
					AND = {
						has_country_flag = focus_EU603
						NOT = {
							has_global_flag = focus_EU603_voted
							has_country_flag = focus_EU603_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU603
			NOT = {
				has_country_flag = focus_EU603_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU603_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### 2013 enlargement of the European Union ###
	EU_voting_decision_focus_EU603_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus 2013 enlargement of the European Union"
					AND = {
						has_country_flag = focus_EU603_QMV
						NOT = {
							has_global_flag = focus_EU603_QMV_voted
							has_country_flag = focus_EU603_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU603_QMV
			NOT = {
				has_country_flag = focus_EU603_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU603_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### 2013 enlargement of the European Union # NO maj ###


	### 2013 enlargement of the European Union # Result Decision ###
	EU_voting_decision_focus_EU603_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU603_result }
			has_global_flag = focus_EU603_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU603
			NOT = { has_global_flag = focus_EU603_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU603_result
			every_country = {
				limit = { has_country_flag = focus_EU603 }
				country_event = {
					id = EUvote.2603
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### 2013 enlargement of the European Union # Result Decision QMV ###
	EU_voting_decision_focus_EU603_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU603_QMV_result }
			has_global_flag = focus_EU603_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU603_QMV
			NOT = { has_global_flag = focus_EU603_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU603_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU603_QMV }
				country_event = {
					id = EUvote.2603
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### 2013 enlargement of the European Union # Result Decision maj # NO maj ###

	### 2013 enlargement of the European Union retry ###

	EU_voting_decision_EU603_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU603_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU603_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU603_retry
			every_country = {
				clr_country_flag = focus_EU603_no
				clr_country_flag = focus_EU603_QMV_no
				clr_country_flag = focus_EU603_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU603_QMV
			}
			else = {
				set_country_flag = focus_EU603
			}
		}
	}

	### Withdrawal Policies # NO Unanimity ###


	### Withdrawal Policies # NO QMV ###


	### Withdrawal Policies # NO maj ###


	### Withdrawal Policies # Result Decision # NO Unanimity ###

	### Withdrawal Policies # Result Decision QMV # NO QMV ###

	### Withdrawal Policies # Result Decision maj # NO maj ###




	### Article 50 # NO Unanimity ###


	### Article 50 # NO QMV ###


	### Article 50 # NO maj ###


	### Article 50 # Result Decision # NO Unanimity ###

	### Article 50 # Result Decision QMV # NO QMV ###

	### Article 50 # Result Decision maj # NO maj ###




	### Withdrawal Treaty ###
	EU_voting_decision_focus_EU702 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Withdrawal Treaty"
					AND = {
						has_country_flag = focus_EU702
						NOT = {
							has_global_flag = focus_EU702_voted
							has_country_flag = focus_EU702_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU702
			NOT = {
				has_country_flag = focus_EU702_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU702_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Withdrawal Treaty ###
	EU_voting_decision_focus_EU702_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Withdrawal Treaty"
					AND = {
						has_country_flag = focus_EU702_QMV
						NOT = {
							has_global_flag = focus_EU702_QMV_voted
							has_country_flag = focus_EU702_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU702_QMV
			NOT = {
				has_country_flag = focus_EU702_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU702_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Withdrawal Treaty # NO maj ###


	### Withdrawal Treaty # Result Decision ###
	EU_voting_decision_focus_EU702_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU702_result }
			has_global_flag = focus_EU702_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU702
			NOT = { has_global_flag = focus_EU702_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU702_result
			every_country = {
				limit = { has_country_flag = focus_EU702 }
				country_event = {
					id = EUvote.2702
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Withdrawal Treaty # Result Decision QMV ###
	EU_voting_decision_focus_EU702_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU702_QMV_result }
			has_global_flag = focus_EU702_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU702_QMV
			NOT = { has_global_flag = focus_EU702_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU702_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU702_QMV }
				country_event = {
					id = EUvote.2702
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Withdrawal Treaty # Result Decision maj # NO maj ###

	### Withdrawal Treaty retry ###

	EU_voting_decision_EU702_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU702_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU702_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU702_retry
			every_country = {
				clr_country_flag = focus_EU702_no
				clr_country_flag = focus_EU702_QMV_no
				clr_country_flag = focus_EU702_maj_no
			}
			if = {
				limit = {
					has_global_flag = european_federation
				}
				set_country_flag = focus_EU702_QMV
			}
			else = {
				set_country_flag = focus_EU702
			}
		}
	}

	### No Deal Exit # NO Unanimity ###


	### No Deal Exit # NO QMV ###


	### No Deal Exit # NO maj ###


	### No Deal Exit # Result Decision # NO Unanimity ###

	### No Deal Exit # Result Decision QMV # NO QMV ###

	### No Deal Exit # Result Decision maj # NO maj ###




	### Federalisation of the European Union # NO Unanimity ###


	### Federalisation of the European Union # NO QMV ###


	### Federalisation of the European Union ###
	EU_voting_decision_focus_EU110_maj = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Federalisation of the European Union"
					AND = {
						has_country_flag = focus_EU110_maj
						NOT = {
							has_global_flag = focus_EU110_maj_voted
							has_country_flag = focus_EU110_maj_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU110_maj
			NOT = {
				has_country_flag = focus_EU110_maj_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU110_maj_voted
			set_global_flag = EU_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Federalisation of the European Union # Result Decision # NO Unanimity ###

	### Federalisation of the European Union # Result Decision QMV # NO QMV ###

	### Federalisation of the European Union # Result Decision maj ###
	EU_voting_decision_focus_EU110_maj_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU110_maj_result }
			has_global_flag = focus_EU110_maj_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU110_maj
			NOT = { has_global_flag = focus_EU110_maj_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU110_maj_result
			every_country = {
				limit = { has_country_flag = focus_EU110_maj }
				country_event = {
					id = EUvote.2110
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Federalisation of the European Union retry ###

	EU_voting_decision_EU110_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU110_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU110_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU110_retry
			every_country = {
				clr_country_flag = focus_EU110_no
				clr_country_flag = focus_EU110_QMV_no
				clr_country_flag = focus_EU110_maj_no
			}
					set_country_flag = focus_EU110_maj
		}
	}

	### United States of Europe ###
	EU_voting_decision_focus_EU111 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus United States of Europe"
					AND = {
						has_country_flag = focus_EU111
						NOT = {
							has_global_flag = focus_EU111_voted
							has_country_flag = focus_EU111_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU111
			NOT = {
				has_country_flag = focus_EU111_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU111_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### United States of Europe # NO QMV ###


	### United States of Europe # NO maj ###


	### United States of Europe # Result Decision ###
	EU_voting_decision_focus_EU111_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU111_result }
			has_global_flag = focus_EU111_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU111
			NOT = { has_global_flag = focus_EU111_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU111_result
			every_country = {
				limit = { has_country_flag = focus_EU111 }
				country_event = {
					id = EUvote.2111
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### United States of Europe # Result Decision QMV # NO QMV ###

	### United States of Europe # Result Decision maj # NO maj ###

	### United States of Europe retry ###

	EU_voting_decision_EU111_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU111_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU111_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU111_retry
			every_country = {
				clr_country_flag = focus_EU111_no
				clr_country_flag = focus_EU111_QMV_no
				clr_country_flag = focus_EU111_maj_no
			}
				set_country_flag = focus_EU111
		}
	}

	### European Federation ###
	EU_voting_decision_focus_EU112 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus European Federation"
					AND = {
						has_country_flag = focus_EU112
						NOT = {
							has_global_flag = focus_EU112_voted
							has_country_flag = focus_EU112_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU112
			NOT = {
				has_country_flag = focus_EU112_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU112_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### European Federation # NO QMV ###


	### European Federation # NO maj ###


	### European Federation # Result Decision ###
	EU_voting_decision_focus_EU112_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU112_result }
			has_global_flag = focus_EU112_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU112
			NOT = { has_global_flag = focus_EU112_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU112_result
			every_country = {
				limit = { has_country_flag = focus_EU112 }
				country_event = {
					id = EUvote.2112
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### European Federation # Result Decision QMV # NO QMV ###

	### European Federation # Result Decision maj # NO maj ###

	### European Federation retry ###

	EU_voting_decision_EU112_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU112_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU112_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU112_retry
			every_country = {
				clr_country_flag = focus_EU112_no
				clr_country_flag = focus_EU112_QMV_no
				clr_country_flag = focus_EU112_maj_no
			}
				set_country_flag = focus_EU112
		}
	}

	### Europe of Fatherlands ###
	EU_voting_decision_focus_EU113 = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Europe of Fatherlands"
					AND = {
						has_country_flag = focus_EU113
						NOT = {
							has_global_flag = focus_EU113_voted
							has_country_flag = focus_EU113_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU113
			NOT = {
				has_country_flag = focus_EU113_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU113_voted
			set_global_flag = EU_unanimity_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Europe of Fatherlands ###
	EU_voting_decision_focus_EU113_QMV = {
		#icon = EU_voting_decision

		available = {
			AND = {
				custom_trigger_tooltip = {
					tooltip = "[ROOT.GetNameWithFlag] has completed National Focus Europe of Fatherlands"
					AND = {
						has_country_flag = focus_EU113_QMV
						NOT = {
							has_global_flag = focus_EU113_QMV_voted
							has_country_flag = focus_EU113_QMV_yes
						}
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = "[ROOT.GetNameWithFlag] must have > 3% influence on all member states"
						all_country = {
							OR = {
								AND = {
									set_temp_variable = { temp_idx = -1 }
									any_of = {
										array = influence_array
										value = v
										index = i
										if = {
											limit = { var:v = { tag = ROOT } }
											set_temp_variable = { temp_idx = i }
											always = yes
										}
										else = { always = no }
									}
									check_variable = { temp_idx > -1 }
									check_variable = { influence_array_calc^temp_idx > 0.03 }
								}
								tag = PREV
								NOT = { has_idea = EU_member }
							}
						}
					}
					has_idea = EU_commission_president
					has_idea = EU_council_president
					has_idea = EU_parliament_president
				}
			}
		}
		visible = {
			has_country_flag = focus_EU113_QMV
			NOT = {
				has_country_flag = focus_EU113_QMV_yes
			}
		}
		complete_effect = {
			set_global_flag = focus_EU113_QMV_voted
			set_global_flag = EU_qualified_majority_voting
			set_variable = {
				var = global.var_EUvoteYes
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteNo
				value = 0
			}
			set_variable = {
				var = global.var_EUvoteTotal
				value = 0
			}
			set_variable = {
				var = global.var_EUpopYes
				value = 0
			}
			set_variable = {
				var = global.var_EUpopNo
				value = 0
			}
			every_country = {
				limit = { has_idea = EU_member }
				country_event = {
					id = EUvote.1
				}
			}
		}
	}

	### Europe of Fatherlands # NO maj ###


	### Europe of Fatherlands # Result Decision ###
	EU_voting_decision_focus_EU113_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU113_result }
			has_global_flag = focus_EU113_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU113
			NOT = { has_global_flag = focus_EU113_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU113_result
			every_country = {
				limit = { has_country_flag = focus_EU113 }
				country_event = {
					id = EUvote.2113
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Europe of Fatherlands # Result Decision QMV ###
	EU_voting_decision_focus_EU113_QMV_result = {
		#icon = EU_voting_decision
		available = {
			NOT = { has_global_flag = focus_EU113_QMV_result }
			has_global_flag = focus_EU113_QMV_voted
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		visible = {
			has_country_flag = focus_EU113_QMV
			NOT = { has_global_flag = focus_EU113_QMV_result }
			check_variable = {
				var = global.var_EUvoteTotal
				value = global.var_EUmemberstatesTotal
				compare = equals
			}
		}
		complete_effect = {
			set_global_flag = focus_EU113_QMV_result
			every_country = {
				limit = { has_country_flag = focus_EU113_QMV }
				country_event = {
					id = EUvote.2113
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	### Europe of Fatherlands # Result Decision maj # NO maj ###

	### Europe of Fatherlands retry ###

	EU_voting_decision_EU113_retry = {
		#icon = EU_voting_decision

		available = {
			has_global_flag = focus_EU113_retry
			has_idea = EU_member 
		}
		visible = {
			has_global_flag = focus_EU113_retry
			has_idea = EU_member 
		}
		complete_effect = {
			clr_global_flag = focus_EU113_retry
			every_country = {
				clr_country_flag = focus_EU113_no
				clr_country_flag = focus_EU113_QMV_no
				clr_country_flag = focus_EU113_maj_no
			}
			if = {
				limit = {
					OR = {
					has_global_flag = european_constitution
					has_global_flag = treaty_of_lisbon
					}
				}
				set_country_flag = focus_EU113_QMV
			}
			else = {
				set_country_flag = focus_EU113
			}
		}
	}

#############################################
### End of EU Focus Tree Voting Decisions ###
#############################################

#################################
#################################
### END of EU_voting_category ###
#################################
#################################
 
}

EU_SOTEU_category = {
		
	State_of_the_European_Union = {

		available = {
			has_idea = EU_member
		}
		
		visible = { 
			has_country_flag = EU_potential 
		} 
			
		complete_effect = {
			country_event = {
				id = EUevent.1
			}
		}
#		ai_will_do = {
#			factor = 100
#		}
	}
}
